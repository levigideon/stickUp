jQuery(function(b){var k=[],s=[],t=0,l="",m="",f="",n=null,u=0,v=0,p=0,g=0,q=0,d,h,r,c,e,w,x;b(window).scroll(function(a){a=b(this).scrollTop();l=a>t?"down":"up";t=a});b.fn.stickUp=function(a){h=b(this);h.addClass("stuckMenu");d=b(".stuckMenu");var c=0;if(null!=a){for(var e in a.parts)a.parts.hasOwnProperty(e)&&(s[c]=a.parts[c],c++);0==c&&console.warn("error:needs arguments");m=a.itemClass;f=a.itemHover;null!=a.topMargin?"auto"==a.topMargin?g=parseInt(d.css("margin-top")):isNaN(a.topMargin)&&0<a.topMargin.search("px")?
g=parseInt(a.topMargin.replace("px","")):isNaN(parseInt(a.topMargin))?(console.log("incorrect argument, ignored."),g=0):g=parseInt(a.topMargin):g=0;n=b("."+m).size()}u=parseInt(h.height());v=parseInt(h.css("margin-bottom"));p=parseInt(h.next().closest("div").css("margin-top"));q=parseInt(h.offset().top);return h};b(document).on("scroll",function(){e=parseInt(b(document).scrollTop());d=b(".stuckMenu");if(null!=n)for(var a=0;a<n;a++)r=b("#"+s[a]),c=b("."+m),k[a]=r.offset().top,"down"==l&&e>k[a]-50&&
e<k[a]+50&&(c.removeClass(f),c.filter(":eq("+a+")").addClass(f)),"up"==l&&(w=.4*r.height(),x=k[a]-w,e>x?(c.removeClass(f),c.filter(":eq("+a+")").addClass(f)):50>e&&(c.removeClass(f),c.filter(":eq(0)").addClass(f)));q<e+g&&(d.addClass("isStuck"),d.next().closest("div").css({"margin-top":u+v+p+"px"},10),d.css("position","fixed"),b(".isStuck").css({top:"0px"},10,function(){}));e+g<q&&(d.removeClass("isStuck"),d.next().closest("div").css({"margin-top":p+"px"},10),d.css("position","relative"))})});
